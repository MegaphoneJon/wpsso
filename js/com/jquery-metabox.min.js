function sucomInitMetabox(e,a){e?e+=" table.sucom-settings":e="table.sucom-settings",jQuery(e+" input.colorpicker").wpColorPicker(),jQuery(e+" input.datepicker").datepicker({dateFormat:"yy-mm-dd"}),jQuery(e+" select#select_og_schema_type").show(sucomSchemaTypeOgType),jQuery(e+" select#select_og_schema_type").change(sucomSchemaTypeOgType),jQuery(e+' input[type="checkbox"]').blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(e+' input[type="text"]').blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(e+" textarea").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(e+" select").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(document).on("click",e+' input[type="checkbox"][data-group]',function(e){var a=jQuery(this),t=a.prop("checked"),r=a.data("group"),n=jQuery('input[type="checkbox"][data-group="'+r+'"]');n.prop("checked",t),n.addClass("changed")}),a&&jQuery(e+" tr").each(function(){"none"!==jQuery(this).css("display")&&jQuery(this).show()})}function sucomSelectLoadJson(e,a){if(!e)return!1;if(!window[a+"_array_keys"]||!window[a+"_array_values"])return!1;var t=jQuery(e+":not( .json_loaded )");if(!t.length)return!1;t.addClass("json_loaded");var r=t.data("default-value"),n=t.data("default-text"),o=t.val(),s="";jQuery.each(window[a+"_array_keys"],function(e,t){label_transl=window[a+"_array_values"][e],s+='<option value="'+t+'"',t==o&&(s+=' selected="selected"'),r==t&&(label_transl+=" "+n),s+=">"+label_transl+"</option>"}),t.empty(),t.append(s)}function sucomEscAttr(e){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return String(e).replace(/[&<>"']/g,function(e){return a[e]})}function sucomMarkChanged(){jQuery(this).addClass("changed")}function sucomSchemaTypeOgType(){var e=jQuery(this).val();if(!e)return!1;var a={action:"wpsso_schema_type_og_type",schema_type:e,_ajax_nonce:sucomMetaboxL10n._ajax_nonce};jQuery.post(ajaxurl,a,function(e){var a=jQuery("select#select_og_type"),t=a.val(),r=a.attr("disabled"),n=a.attr("data-default-value");if(!a)return!1;if(jQuery("div#select_og_type_linked").remove(),e){var o=sucomMetaboxL10n._option_labels.schema_type,s=sucomMetaboxL10n._linked_to_msg.replace(/%s/,o);a.after('<div id="select_og_type_linked" class="dashicons dashicons-admin-links" title="'+s+'"></div>'),a.prop("disabled",!0),e!==t&&a.val(e).trigger("change")}else r&&(a.prop("disabled",!1),n&&a.val(n).trigger("change"))})}function sucomDisableUnchanged(e){e?e+=" table.sucom-settings":e="table.sucom-settings",jQuery(e+' input[type="checkbox"]:not( .changed )').each(function(){jQuery(this).prop("disabled",!0);var a=jQuery(this).attr("name");hidden_checkbox_name=a.replace(/^(.*)\[(.*)\]$/,"$1\\[is_checkbox_$2\\]"),jQuery(e+' input[name="'+hidden_checkbox_name+'"]').remove()}),jQuery(e+' input[type="text"]:not( .changed )').prop("disabled",!0),jQuery(e+" textarea:not( .changed )").prop("disabled",!0),jQuery(e+" select:not( .changed )").prop("disabled",!0)}function sucomTextLen(e){var a=jQuery.trim(sucomClean(jQuery("#"+e).val())).length,t=Number(jQuery("#"+e).attr("minLength")),r=Number(jQuery("#"+e).attr("warnLength")),n=Number(jQuery("#"+e).attr("maxLength")),o="{0} characters";t&&n&&n<t&&(n=t);var s=sucomLenSpan(a,n,r,t),c=n;t?n?(n>t&&(c=String(t)+"-"+String(n)),o="{0} of {1} characters required",sucomMetaboxL10n._req_len_msg||(o=sucomMetaboxL10n._req_len_msg)):(c=t,o="{0} of {1} characters minimum",sucomMetaboxL10n._min_len_msg||(o=sucomMetaboxL10n._min_len_msg)):n?(o="{0} of {1} characters maximum",sucomMetaboxL10n._max_len_msg||(o=sucomMetaboxL10n._max_len_msg)):sucomMetaboxL10n._len_msg||(o=sucomMetaboxL10n._len_msg),jQuery("#"+e+"-lenMsg").html('<div class="text_len_msg">'+o.formatUnicorn(s,c)+"</div>")}function sucomLenSpan(e,a,t,r){r||(r=0),a||(a=0),t||(t=a?a-20:0);return'<span class="'+(r&&e<r?"bad":r&&e>=r?"good":a&&e>=a-5?"bad":t&&e>=t?"warn":"good")+'">'+e+"</span>"}function sucomClean(e){if(void 0===e||""===e)return"";try{e=(e=e.replace(/<\/?[^>]+>/g,"")).replace(/\[(.+?)\](.+?\[\/\\1\])?/,"")}catch(e){}return e}function sucomTabs(e,a,t){var r="sucom-tabset"+(e=e||"_default")+"-tab"+(a=a||"_default"),n=window.location.hash;if(n=""===n?r:-1===n.search("sucom-tabset"+e+"-tab_")?r:n.replace("#",""),jQuery("."+n).addClass("active"),jQuery("."+n+"-msg").addClass("active"),jQuery("a.sucom-tablink"+e).click(function(){jQuery(".sucom-metabox-tabs"+e+" li").removeClass("active"),jQuery(".sucom-tabset"+e).removeClass("active"),jQuery(".sucom-tabset"+e+"-msg").removeClass("active");var a=jQuery(this).attr("href").replace("#","");jQuery("."+a).addClass("active"),jQuery("."+a+"-msg").addClass("active"),jQuery(this).parent().addClass("active")}),jQuery(".sucom-metabox-tabs").show(),t){var o=jQuery("div#wpadminbar").height(),s=jQuery(t).offset().top+o;jQuery("html, body").stop(!0,!0).animate({scrollTop:s},"fast")}}function sucomViewUnhideRows(e,a,t){t=t||"hide_in",jQuery("div."+e).find("."+t+"_"+a).show(),jQuery("."+e+"-msg").hide()}function sucomSelectChangeUnhideRows(e,a){e&&(e=e.replace(/[:\/\-\. ]+/g,"_"),jQuery("tr."+e).hide()),a&&(a=a.replace(/[:\/\-\. ]+/g,"_"),jQuery("tr."+a).show())}function sucomSelectChangeRedirect(e,a,t){url=t+jQuery(location).attr("hash"),window.location=url.replace("%%"+e+"%%",a)}function sucomToggle(e){return jQuery("#"+e).toggle(),!1}jQuery(document).ready(function(){sucomInitMetabox()}),String.prototype.formatUnicorn=String.prototype.formatUnicorn||function(){"use strict";var e=this.toString();if(arguments.length){var a,t=typeof arguments[0],r="string"===t||"number"===t?Array.prototype.slice.call(arguments):arguments[0];for(a in r)e=e.replace(new RegExp("\\{"+a+"\\}","gi"),r[a])}return e};