function sucomInitAdminMedia(e){var a="table.sucom-settings";"undefined"!=typeof e&&e&&(a=e+" "+a),jQuery(a+" .sucom_image_upload_pid").each(function(e){sucomShowLibraryImage(this,e)}),jQuery(document).on("change",a+" .sucom_image_upload_pid",function(e){sucomShowLibraryImage(this,e)}),jQuery(document).on("click",a+" .sucom_image_upload_button",function(e){sucomSelectLibraryImage(this,e)})}function sucomShowLibraryImage(e){var a=jQuery(e).val();a||(a=jQuery(e).attr("placeholder"));var t=jQuery(e).attr("id").replace(/^text_(.*)$/,"$1"),i="";t.match(/^.*_[0-9]+$/)&&(i=t.replace(/^(.*)(_[0-9]+)$/,"$2"),t=t.replace(/^(.*)(_[0-9]+)$/,"$1"));var u=jQuery("#preview_"+t+i);if(u.empty(),jQuery.isNumeric(a)&&a){jQuery("#select_"+t+"_pre"+i).val("wp").change(),jQuery("#text_"+t+"_url"+i).val("").change(),jQuery("#text_"+t+"_url"+i).prop("disabled",!0);var m=new wp.media.model.Attachment.get(a);m.fetch({success:function(){if("undefined"!=typeof attachment.sizes.thumbnail.url){var e=attachment.sizes.thumbnail;if(u){var a='<img src="'+e.url+'"';e.width&&(a+=' width="'+e.width+'"'),e.height&&(a+=' height="'+e.height+'"'),a+="/>",u.empty(),u.append(a)}}}})}}function sucomSelectLibraryImage(e,a){var t=jQuery(e).attr("data-pid"),i=jQuery(e).attr("id").replace(/^button_(.*)$/,"$1"),u="";i.match(/^.*_[0-9]+$/)&&(u=i.replace(/^(.*)(_[0-9]+)$/,"$2"),i=i.replace(/^(.*)(_[0-9]+)$/,"$1")),a.preventDefault(),"undefined"!=typeof sucom_image_upload_media&&sucom_image_upload_media.close(),sucom_image_upload_media=wp.media({title:sucomAdminMediaL10n._select_image,button:{text:sucomAdminMediaL10n._select_image},multiple:!1,library:{type:"image"}}),sucom_image_upload_media.on("open",function(){if(jQuery.isNumeric(t)&&t){var a=sucom_image_upload_media.state().get("selection"),i=wp.media.attachment(t);a.add(i?[i]:[])}jQuery(".media-modal",e.el).find("#media-search-input").focus()}),sucom_image_upload_media.on("select",function(){var a=sucom_image_upload_media.state().get("selection").first().toJSON();jQuery(e).attr("data-pid",a.id),jQuery("#text_"+i+"_id"+u).val(a.id).change()}),sucom_image_upload_media.open()}jQuery(document).bind("sucom_init_metabox",function(e,a,t){sucomInitAdminMedia(a,t)});
//# sourceMappingURL=jquery-admin-media.min.js.map