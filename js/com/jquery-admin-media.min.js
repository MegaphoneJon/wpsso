function sucomInitAdminMedia(e){var i="table.sucom-settings";"undefined"!=typeof e&&e&&(i=e+" "+i),jQuery(i+" .sucom_image_upload_lib").each(function(e){sucomMaybeShowUpload(this,e)}),jQuery(document).on("change",i+" .sucom_image_upload_lib",function(e){sucomMaybeShowUpload(this,e)}),jQuery(document).on("change",i+" .sucom_image_upload_id",function(e){sucomShowLibraryImage(this,e)}),jQuery(document).on("click",i+" .sucom_image_upload_button",function(e){sucomSelectLibraryImage(this,e)})}function sucomMaybeShowUpload(e,i){var a=jQuery(e).val(),t=jQuery(e).attr("data-img-id-css-id"),u=jQuery(e).attr("data-upload-css-id");if("wp"===a?jQuery("#"+u).show():jQuery("#"+u).hide(),t){var o=jQuery("#"+t);sucomShowLibraryImage(o,i)}}function sucomShowLibraryImage(e){var i=jQuery(e).attr("data-img-lib-css-id"),a=jQuery(e).attr("data-img-url-css-id"),t=jQuery(e).attr("data-preview-css-id"),u=jQuery(e).val(),o=u;if(o||(o=jQuery(e).attr("placeholder")),o&&i&&t){var d=jQuery("#"+t),m=jQuery("#"+i).val();if(d.empty(),"wp"===m&&jQuery.isNumeric(o)){u&&a&&(jQuery("#"+a).val("").change(),jQuery("#"+a).prop("disabled",!0));var n=new wp.media.model.Attachment.get(o);n.fetch({success:function(e){if("undefined"!=typeof e.attributes.sizes.thumbnail.url){var i=e.attributes.sizes.thumbnail;if(d){var a='<img src="'+i.url+'"';i.width&&(a+=' width="'+i.width+'"'),i.height&&(a+=' height="'+i.height+'"'),a+="/>",d.html(a)}}}})}}}function sucomSelectLibraryImage(e,i){i.preventDefault(),"undefined"!=typeof window.sucom_image_upload_media&&window.sucom_image_upload_media.close(),window.sucom_image_upload_media=wp.media({title:sucomAdminMediaL10n._select_image,button:{text:sucomAdminMediaL10n._select_image},multiple:!1,library:{type:"image"}}),window.sucom_image_upload_media.on("open",function(){var i=jQuery(e).attr("data-wp-img-id");if(i&&jQuery.isNumeric(i)){var a=window.sucom_image_upload_media.state().get("selection"),t=wp.media.attachment(i);a.add(t?[t]:[])}jQuery(".media-modal",e.el).find("#media-search-input").focus()}),window.sucom_image_upload_media.on("select",function(){var i=window.sucom_image_upload_media.state().get("selection").first().toJSON(),a=jQuery(e).attr("data-img-id-css-id"),t=jQuery(e).attr("data-img-lib-css-id");jQuery(e).attr("data-wp-img-id",i.id),t&&jQuery("#"+t).val("wp"),a&&jQuery("#"+a).val(i.id).change()}),window.sucom_image_upload_media.open()}jQuery(document).bind("sucom_init_metabox",function(e,i,a){sucomInitAdminMedia(i,a)});
//# sourceMappingURL=jquery-admin-media.min.js.map