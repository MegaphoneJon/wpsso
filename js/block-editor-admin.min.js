const{getCurrentPostId:getCurrentPostId}=wp.data.select("core/editor"),{isSavingMetaBoxes:isSavingMetaBoxes}=wp.data.select("core/edit-post"),{createNotice:createNotice,removeNotice:removeNotice}=wp.data.dispatch("core/notices"),{RawHTML:RawHTML,createElement:createElement}=wp.element;var wasSavingContainer=!1;function wpssoUpdateContainers(){if(jQuery.isArray(sucomBlockEditorL10n._container_ids)){var e=getCurrentPostId();for(var o in sucomBlockEditorL10n._container_ids){var t=sucomBlockEditorL10n._container_ids[o],n="update_container_id_"+t,s={action:n=(n=(n=n.toLowerCase()).replace(/[:\/\-\. ]+/g,"_")).replace(/[^a-z0-9_\-]/g,""),post_id:e,_ajax_nonce:sucomBlockEditorL10n._ajax_nonce};jQuery.post(ajaxurl,s,function(e){e&&(jQuery("#"+t).html(e),jQuery("#"+t+" input.colorpicker").wpColorPicker(),jQuery("#"+t+" input.datepicker").datepicker({dateFormat:"yy-mm-dd"}))})}}}function wpssoCreateNotices(){var e={action:"wpsso_get_notices_json",context:"block_editor",_ajax_nonce:sucomBlockEditorL10n._ajax_nonce,_exclude_types:sucomBlockEditorL10n._tb_notices};jQuery.getJSON(ajaxurl,e,function(e){jQuery.each(e,function(o){jQuery.each(e[o],function(t){var n=!1,s=e[o][t].msg_html,a=createElement(RawHTML,{},s),r={id:t,spokenMessage:e[o][t].msg_spoken,isDismissible:!e[o][t].dismiss_time};"err"==o?n="error":"warn"==o?n="warning":"inf"==o?n="info":"upd"==o&&(n="success"),n&&(removeNotice(t),createNotice(n,a,r),jQuery("div.wpsso-notice").parents("div.components-notice").removeClass("components-notice"))})}),wpssoUpdateToolbar()})}function wpssoUpdateToolbar(e){if(sucomBlockEditorL10n._tb_notices){e=void 0===e||e;var o={action:"wpsso_get_notices_json",context:"toolbar_notices",_ajax_nonce:sucomBlockEditorL10n._ajax_nonce,_notice_types:sucomBlockEditorL10n._tb_notices};jQuery.getJSON(ajaxurl,o,function(o){var t="",n="",s=0,a={},r=sucomBlockEditorL10n._no_notices_html;if(jQuery.each(o,function(e){jQuery.each(o[e],function(n){t+=o[e][n].msg_html,a[e]=++a[e]||1,s++})}),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-error"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-warning"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-info"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-success"),e&&(t?(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(t),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("have-notices")):(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(r),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices"))),jQuery("#wpsso-toolbar-notices-count").html(s),s){n="";a.err?n="error":a.warn?n="warning":a.inf?n="info":a.upd&&(n="success"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("have-notices-"+n)}})}}jQuery(document).ready(function(){wpssoCreateNotices()}),wp.data.subscribe(function(){var e=isSavingMetaBoxes();wasSavingContainer&&(e||(wpssoUpdateContainers(),wpssoCreateNotices())),wasSavingContainer=e});